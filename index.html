<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Tienda de Zapatos</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f4f4f4;
    }
    h1 {
      text-align: center;
      margin-bottom: 40px;
    }
    #carritoBtn {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #ff5722;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 30px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s;
      z-index: 150;
    }
    #carritoBtn:hover {
      transform: scale(1.1);
    }
    .productos {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
    .producto {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      width: 220px;
      text-align: center;
      padding: 20px;
      transition: transform 0.3s;
    }
    .producto:hover {
      transform: translateY(-5px);
    }
    .producto img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 6px;
    }
    .producto h3 {
      margin: 10px 0 5px;
    }
    .producto p {
      margin: 5px 0;
    }
    .producto button {
      margin-top: 10px;
      padding: 8px 15px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .producto button:hover {
      background-color: #45a049;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 200;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.5s forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .modal-content {
      background-color: white;
      padding: 20px;
      width: 400px;
      border-radius: 10px;
      max-height: 80%;
      overflow-y: auto;
      position: relative;
      text-align: center;
    }
    .modal-content ul {
      list-style: none;
      padding: 0;
      margin: 20px 0;
    }
    .modal-content li {
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .modal-content button {
      margin-top: 10px;
    }
    .close, .vaciar {
      background-color: red;
      color: white;
      padding: 5px 10px;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
    }
    .vaciar {
      background-color: #e53935;
      margin-left: 10px;
    }
    #alerta {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      display: none;
      z-index: 300;
      font-weight: bold;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    #alerta.mostrar {
      display: block;
      opacity: 1;
    }
    #alerta.ocultar {
      opacity: 0;
    }
  </style>
</head>
<body>

<h1>Tienda de Zapatos</h1>

<button id="carritoBtn">Carrito (0)</button>

<div id="alerta">¡Producto agregado!</div>

<div class="productos" id="contenedorProductos">
  
</div>

<div id="modalCarrito" class="modal">
  <div class="modal-content">
    <h2>Tu Carrito</h2>
    <ul id="listaCarrito"></ul>
    <p id="totalCarrito">Total: $0</p>
    <button onclick="comprar()">Finalizar Compra</button>
    <button onclick="vaciarCarrito()" class="vaciar">Vaciar Carrito</button>
    <button onclick="cerrarModal()" class="close">X</button>
  </div>
</div>

<audio id="sonidoDing" src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_3d82fe7e71.mp3?filename=ding-36029.mp3" preload="auto"></audio>
<audio id="sonidoError" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_a280663cca.mp3?filename=error-126627.mp3" preload="auto"></audio>

<script>
const productos = [
  { nombre: "Zapato Deportivo", precio: 800, img: "https://via.placeholder.com/220x150?text=Deportivo", descripcion: "Cómodo para correr." },
  { nombre: "Zapato Casual", precio: 600, img: "https://via.placeholder.com/220x150?text=Casual", descripcion: "Ideal para uso diario." },
  { nombre: "Zapato Formal", precio: 1200, img: "https://via.placeholder.com/220x150?text=Formal", descripcion: "Perfecto para eventos." },
  { nombre: "Bota", precio: 1500, img: "https://via.placeholder.com/220x150?text=Bota", descripcion: "Resistente y elegante." }
];

let carrito = [];
const contenedor = document.getElementById('contenedorProductos');
const carritoBtn = document.getElementById('carritoBtn');
const alerta = document.getElementById('alerta');
const sonidoDing = document.getElementById('sonidoDing');
const sonidoError = document.getElementById('sonidoError');


productos.forEach((prod, idx) => {
  contenedor.innerHTML += `
    <div class="producto">
      <img src="${prod.img}" alt="${prod.nombre}">
      <h3>${prod.nombre}</h3>
      <p>${prod.descripcion}</p>
      <p><strong>$${prod.precio}</strong></p>
      <button onclick="agregarAlCarrito(${idx})">Agregar al carrito</button>
    </div>
  `;
});

function agregarAlCarrito(index) {
  carrito.push(productos[index]);
  actualizarCarrito();
  mostrarAlerta("¡Producto agregado!");
  sonidoDing.play();
}

function actualizarCarrito() {
  carritoBtn.innerText = Carrito (${carrito.length});
}

function abrirModal() {
  if (carrito.length === 0) {
    sonidoError.play();
    mostrarAlerta("¡Carrito vacío!", true);
    return;
  }
  const lista = document.getElementById('listaCarrito');
  lista.innerHTML = "";
  let total = 0;
  carrito.forEach((item, i) => {
    const li = document.createElement('li');
    li.innerHTML = `${item.nombre} - $${item.precio} 
      <button class="close" onclick="eliminarDelCarrito(${i})">x</button>`;
    lista.appendChild(li);
    total += item.precio;
  });
  document.getElementById('totalCarrito').innerText = Total: $${total};
  document.getElementById('modalCarrito').style.display = "flex";
}

function cerrarModal() {
  document.getElementById('modalCarrito').style.display = "none";
}

function eliminarDelCarrito(i) {
  carrito.splice(i, 1);
  actualizarCarrito();
  abrirModal();
}

function vaciarCarrito() {
  if (confirm("¿Estás seguro de vaciar el carrito?")) {
    carrito = [];
    actualizarCarrito();
    cerrarModal();
  }
}

function comprar() {
  if (carrito.length > 0) {
    alert("¡Compra realizada con éxito!");
    carrito = [];
    actualizarCarrito();
    cerrarModal();
  }
}

function mostrarAlerta(mensaje, error=false) {
  alerta.innerText = mensaje;
  alerta.style.backgroundColor = error ? "#e53935" : "#4CAF50";
  alerta.classList.add('mostrar');
  setTimeout(() => {
    alerta.classList.remove('mostrar');
    alerta.classList.add('ocultar');
    setTimeout(() => {
      alerta.style.display = 'none';
      alerta.classList.remove('ocultar');
    }, 500);
  }, 2000);
}

carritoBtn.addEventListener('click', abrirModal);

</script>

</body>
</html>
